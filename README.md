# GIIS Server Selector

<div align="center">

![Version](https://img.shields.io/badge/version-0.3.0-blue)
![Platform](https://img.shields.io/badge/platform-Windows-blue)
![Python](https://img.shields.io/badge/python-3.13%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)

**GUI утилита для управления stunnel конфигурацией на Windows**

> 📦 Дополнительный пакет к проекту [GIIS Signer](https://github.com/imdeniil/giis-signer)

[Скачать релиз](https://github.com/imdeniil/giis-srv-selector/releases/latest) • [Документация](docs/) • [Сообщить об ошибке](https://github.com/imdeniil/giis-srv-selector/issues)

</div>

---

## 📋 Описание

Простое и удобное приложение для переключения между различными серверами stunnel через графический интерфейс. Избавляет от необходимости ручного редактирования конфигурационных файлов и управления службами Windows.

**Часть экосистемы GIIS:** Эта утилита предназначена для использования совместно с [GIIS Signer](https://github.com/imdeniil/giis-signer) - основным инструментом для работы с ГИИС.

## ✨ Возможности

- 🖥️ **Простой GUI** - интуитивно понятный интерфейс
- 🔄 **Быстрое переключение** - смена сервера в 2 клика
- 💾 **Сохранение настроек** - путь к конфигу сохраняется автоматически
- 🔒 **Безопасность** - резервное копирование перед изменениями
- 📝 **Логирование** - детальные логи всех операций
- ⚡ **Автоматизация** - перезапуск службы без участия пользователя
- 🛡️ **Проверка прав** - автоматический запрос прав администратора

## 🖼️ Скриншот

```
┌─────────────────────────────────────────┐
│      GIIS Server Selector               │
├─────────────────────────────────────────┤
│ Файл конфигурации:                      │
│ [C:\...\stunnel.conf] [Обзор...]        │
├─────────────────────────────────────────┤
│ Текущий сервер:                         │
│ 195.209.130.9 (промышленный контур)     │
├─────────────────────────────────────────┤
│ Доступные серверы:                      │
│ ○ 195.209.130.9 - промышленный контур   │
│ ○ 195.209.130.45 - тестовый (пром.)     │
│ ○ 195.209.130.19 - тестовый (новый)     │
├─────────────────────────────────────────┤
│ [Применить]  [Обновить]                 │
│ [Открыть лог]  [Папка логов]            │
└─────────────────────────────────────────┘
```

## 🚀 Быстрый старт

### Установка (готовый exe)

1. Скачайте последний релиз: [GIIS_ServerSelector.exe](https://github.com/imdeniil/giis-srv-selector/releases/latest)
2. Запустите файл (автоматический запрос прав администратора)
3. Выберите файл конфигурации stunnel
4. Выберите нужный сервер
5. Нажмите "Применить изменения"

### Требования

- Windows 10/11
- Установленная служба Stunnel
- Права администратора

## 🌐 Доступные серверы

| IP адрес | Описание |
|----------|----------|
| `195.209.130.9` | Промышленный контур |
| `195.209.130.45` | Тестовый контур (промышленный) |
| `195.209.130.19` | Тестовый контур (новый функционал) |

## 💻 Разработка

### Запуск из исходного кода

```bash
# Клонировать репозиторий
git clone https://github.com/imdeniil/giis-srv-selector.git
cd giis-srv-selector

# Создать виртуальное окружение
uv venv

# Установить зависимости
uv sync

# Запустить приложение
.venv\Scripts\python.exe giis_srv_selector.py
```

### Сборка exe

```bash
# Вариант 1: Использовать готовый скрипт
build.bat

# Вариант 2: Вручную
.venv\Scripts\pyinstaller.exe --onefile --windowed --name "GIIS_ServerSelector" --uac-admin giis_srv_selector.py
```

Результат: `dist\GIIS_ServerSelector.exe`

### Технологический стек

- **Python 3.13+** - язык программирования
- **tkinter** - GUI фреймворк (встроенный)
- **PyInstaller** - компиляция в exe
- **uv** - менеджер пакетов

## 📁 Структура проекта

```
giis-srv-selector/
├── giis_srv_selector.py    # Основной код приложения
├── build.bat                # Скрипт сборки
├── pyproject.toml           # Конфигурация проекта
├── docs/                    # Документация
│   ├── CHANGELOG.md         # История изменений
│   ├── CLASSES.md           # Описание классов
│   ├── FILES.md             # Файловая структура
│   ├── TECH.md              # Технический стек
│   └── TRANSIT.md           # Контекст разработки
└── README.md                # Этот файл
```

## 📝 Хранение данных

Приложение сохраняет настройки и логи в системной папке:

```
%APPDATA%\GIIS_ServerSelector\
├── settings.json                           # Сохраненные настройки
└── stunnel_manager_YYYY-MM-DD_HH-MM-SS.log # Логи операций
```

## 🔒 Безопасность

- ✅ Автоматическое резервное копирование конфига перед изменениями
- ✅ Восстановление из резервной копии при ошибках
- ✅ Детальное логирование всех операций
- ✅ Обязательная проверка прав администратора
- ✅ Валидация файлов конфигурации

## 📚 Документация

- [📜 CHANGELOG.md](docs/CHANGELOG.md) - История версий и изменений
- [📦 FILES.md](docs/FILES.md) - Подробная файловая структура
- [🏗️ CLASSES.md](docs/CLASSES.md) - Описание классов и API
- [⚙️ TECH.md](docs/TECH.md) - Архитектура и технологии
- [🔄 TRANSIT.md](docs/TRANSIT.md) - Контекст текущей разработки

## 🐛 Известные ограничения

- Работает только на Windows
- Требует установленную службу Stunnel
- Список серверов жестко задан в коде

## 🛠️ Возможные улучшения

- [ ] Добавление пользовательских серверов
- [ ] История изменений серверов
- [ ] Проверка доступности сервера
- [ ] Темная тема интерфейса
- [ ] Минимизация в системный трей

## 🤝 Вклад в проект

Приветствуются любые предложения и улучшения!

1. Fork репозитория
2. Создайте ветку для фичи (`git checkout -b feature/AmazingFeature`)
3. Commit изменения (`git commit -m 'Add some AmazingFeature'`)
4. Push в ветку (`git push origin feature/AmazingFeature`)
5. Откройте Pull Request

## 👤 Автор

**Даниил**

- GitHub: [@imdeniil](https://github.com/imdeniil/)
- Email: keemor821@gmail.com

## 📄 Лицензия

Проект распространяется свободно для внутреннего использования.

## ⭐ Поддержка проекта

Если проект оказался полезным, поставьте звезду ⭐ на GitHub!

---

<div align="center">

**Версия 0.3.0** • Создано с помощью [Claude Code](https://claude.com/claude-code)

</div>
